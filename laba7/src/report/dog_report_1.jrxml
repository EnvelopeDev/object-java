<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
              http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="DogReportPDF" pageWidth="595" pageHeight="842"
              columnWidth="555" leftMargin="20" rightMargin="20"
              topMargin="20" bottomMargin="20">
    
    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>
    
    <!-- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· XML -->
    <queryString language="xPath">
        <![CDATA[/dogs/dog]]>
    </queryString>
    
    <!-- ÐŸÐ¾Ð»Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… -->
    <field name="name" class="java.lang.String">
        <fieldDescription><![CDATA[name]]></fieldDescription>
    </field>
    
    <field name="breed" class="java.lang.String">
        <fieldDescription><![CDATA[breed]]></fieldDescription>
    </field>
    
    <field name="awards" class="java.lang.String">
        <fieldDescription><![CDATA[awards]]></fieldDescription>
    </field>
    
    <!-- ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð´Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð°Ð³Ñ€Ð°Ð´ -->
    <variable name="awardsFormatted" class="java.lang.String">
        <variableExpression><![CDATA[$F{awards}.equals("true") ? "YES ðŸ†" : "NO"]]></variableExpression>
    </variable>
    
    <!-- ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð´Ð»Ñ Ð¿Ð¾Ð´ÑÑ‡ÐµÑ‚Ð° Ð½Ð°Ð³Ñ€Ð°Ð´ -->
    <variable name="totalAwards" class="java.lang.Integer" calculation="Sum">
        <variableExpression><![CDATA[$F{awards}.equals("true") ? 1 : 0]]></variableExpression>
    </variable>
    
    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð¾Ñ‚Ñ‡ÐµÑ‚Ð° -->
    <title>
        <band height="120">
            <rectangle>
                <reportElement x="0" y="0" width="555" height="120" backcolor="#4B0082"/>
            </rectangle>
            
            <staticText>
                <reportElement x="0" y="30" width="555" height="40"/>
                <textElement textAlignment="Center">
                    <font size="24" isBold="true" forecolor="#FFFFFF"/>
                </textElement>
                <text><![CDATA[DOG FESTIVAL - OFFICIAL REPORT]]></text>
            </staticText>
            
            <staticText>
                <reportElement x="0" y="75" width="555" height="20"/>
                <textElement textAlignment="Center">
                    <font size="14" forecolor="#E6E6FA"/>
                </textElement>
                <text><![CDATA[Laboratory Work #7 - PDF Version]]></text>
            </staticText>
            
            <line>
                <reportElement x="0" y="115" width="555" height="2"/>
                <graphicElement>
                    <pen lineWidth="2.0" lineColor="#FFFFFF"/>
                </graphicElement>
            </line>
        </band>
    </title>
    
    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ ÑÑ‚Ð¾Ð»Ð±Ñ†Ð¾Ð² -->
    <columnHeader>
        <band height="35">
            <rectangle>
                <reportElement x="0" y="0" width="555" height="35" backcolor="#E6E6FA"/>
            </rectangle>
            
            <staticText>
                <reportElement x="10" y="8" width="50" height="20"/>
                <textElement>
                    <font size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[#]]></text>
            </staticText>
            
            <staticText>
                <reportElement x="70" y="8" width="150" height="20"/>
                <textElement>
                    <font size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[DOG NAME]]></text>
            </staticText>
            
            <staticText>
                <reportElement x="230" y="8" width="150" height="20"/>
                <textElement>
                    <font size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[BREED]]></text>
            </staticText>
            
            <staticText>
                <reportElement x="390" y="8" width="155" height="20"/>
                <textElement>
                    <font size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[AWARDS]]></text>
            </staticText>
        </band>
    </columnHeader>
    
    <!-- Ð”ÐµÑ‚Ð°Ð»Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ… -->
    <detail>
        <band height="30">
            <!-- ÐÐ¾Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð¾ÐºÐ¸ -->
            <textField>
                <reportElement x="10" y="5" width="50" height="20"/>
                <textElement textAlignment="Center">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
            </textField>
            
            <!-- Ð˜Ð¼Ñ ÑÐ¾Ð±Ð°ÐºÐ¸ -->
            <textField>
                <reportElement x="70" y="5" width="150" height="20"/>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
            </textField>
            
            <!-- ÐŸÐ¾Ñ€Ð¾Ð´Ð° -->
            <textField>
                <reportElement x="230" y="5" width="150" height="20"/>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{breed}]]></textFieldExpression>
            </textField>
            
            <!-- ÐÐ°Ð³Ñ€Ð°Ð´Ñ‹ -->
            <textField>
                <reportElement x="390" y="5" width="155" height="20"/>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{awardsFormatted}]]></textFieldExpression>
            </textField>
            
            <!-- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð»Ð¸Ð½Ð¸Ñ -->
            <line>
                <reportElement x="0" y="29" width="555" height="1"/>
                <graphicElement>
                    <pen lineWidth="0.5" lineColor="#CCCCCC"/>
                </graphicElement>
            </line>
        </band>
    </detail>
    
    <!-- ÐÐ¸Ð¶Ð½Ð¸Ð¹ ÐºÐ¾Ð»Ð¾Ð½Ñ‚Ð¸Ñ‚ÑƒÐ» Ñ Ð¸Ñ‚Ð¾Ð³Ð°Ð¼Ð¸ -->
    <pageFooter>
        <band height="80">
            <line>
                <reportElement x="0" y="0" width="555" height="2"/>
                <graphicElement>
                    <pen lineWidth="2.0" lineColor="#4B0082"/>
                </graphicElement>
            </line>
            
            <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° -->
            <staticText>
                <reportElement x="10" y="15" width="200" height="20"/>
                <textElement>
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[Report Summary:]]></text>
            </staticText>
            
            <textField>
                <reportElement x="10" y="35" width="200" height="20"/>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA["Total dogs: " + $V{REPORT_COUNT}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="10" y="55" width="200" height="20"/>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA["Dogs with awards: " + $V{totalAwards}]]></textFieldExpression>
            </textField>
            
            <!-- Ð”Ð°Ñ‚Ð° Ð¸ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° -->
            <textField>
                <reportElement x="300" y="15" width="255" height="20"/>
                <textElement textAlignment="Right">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA["Generated: " + new java.util.Date()]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="300" y="35" width="255" height="20"/>
                <textElement textAlignment="Right">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of " + $V{PAGE_COUNT}]]></textFieldExpression>
            </textField>
            
            <staticText>
                <reportElement x="0" y="60" width="555" height="20"/>
                <textElement textAlignment="Center">
                    <font size="8" isItalic="true"/>
                </textElement>
                <text><![CDATA[JasperReports - Laboratory Work #7 - Dog Festival Application]]></text>
            </staticText>
        </band>
    </pageFooter>
</jasperReport>